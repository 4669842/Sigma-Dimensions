// Multiply Dimensions

@Kopernicus:FOR[SigDim2]
{
	@Body,*
	{
		@PlanetDimensions = #$PlanetDimensions$,1,1,1,1,1,1,1,1,1
		@PlanetDimensions[0] *= #$PlanetMultiplier[0]$
		@PlanetDimensions[1] *= #$PlanetMultiplier[1]$
		@PlanetDimensions[2] *= #$PlanetMultiplier[2]$
		@PlanetDimensions[3] *= #$PlanetMultiplier[3]$
		@PlanetDimensions[4] *= #$PlanetMultiplier[4]$
		@PlanetDimensions[5] *= #$PlanetMultiplier[5]$
		@PlanetDimensions[6] *= #$PlanetMultiplier[6]$
		@PlanetDimensions[8] *= #$PlanetMultiplier[8]$
		@PlanetDimensions[9] *= #$PlanetMultiplier[9]$
	}
}

// Apply changes needed for advanced settings

@Kopernicus:FOR[SigDim2]
{
	@Body:HAS[#PlanetDimensions[*,*,*,*,*,*,*,*,0,*]]
	{
		@PlanetDimensions[8] = #$PlanetDimensions[1]$
	}
	@Body:HAS[#PlanetDimensions[*,0]]
	{
		@PlanetDimensions[9] = #$PlanetDimensions[1]$
		@PlanetDimensions[9] /= #$PlanetDimensions[0]$
	}
	@Body:HAS[#PlanetDimensions[*,*,*,*,*,*,*,0,*,*]]
	{
		// define PlanetDimensions[0] = changeScatterSize
		// define PlanetDimensions[1] = changeScatterDensity
		
		%PlanetDimensions2 = #1,$PlanetDimensions[0]$
		%CheckResize = #$PlanetDimensions[0]$
	}
	@Body:HAS[#CheckResize[>1]]
	{
		@PlanetDimensions2[1] != 2
	}
	@Body:HAS[#CheckResize[<1]]
	{
		@PlanetDimensions2[1] *= 0.5
		@PlanetDimensions2[1] += 0.5
	}
	@Body:HAS[#PlanetDimensions[*,*,*,*,*,*,*,1,*,*],~CheckResize[*]]
	{
		// define PlanetDimensions[0] = changeScatterSize
		// define PlanetDimensions[1] = changeScatterDensity
		
		%PlanetDimensions2 = #$PlanetDimensions[0]$,$PlanetDimensions[0]$
		@PlanetDimensions2[1] != 2
	}
	@Body:HAS[#CheckResize[*]]
	{
		!CheckResize = DEL
	}
	@Body:HAS[#PlanetDimensions[1,*,*,*,*,1,*,*,*,*]]
	{
		// define PlanetDimensions2[2] = needsCache
		// NEEDS NEW CACHE = FALSE
		
		@PlanetDimensions2 = #$PlanetDimensions2$,False
	}
	@Body:HAS[~PlanetDimensions[*False]]
	{
		// define PlanetDimensions2[2] = needsCache
		// NEEDS NEW CACHE = TRUE
		
		@PlanetDimensions2 = #$PlanetDimensions2$,True	
	}
}
